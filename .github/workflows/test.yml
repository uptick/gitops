name: Test
on:
  push:
    branches:
    - develop
  pull_request: ~

permissions:
  actions: read # Read the metrics
  contents: write # to be able to publish a GitHub release
  issues: write # to be able to comment on released issues
  pull-requests: write # to be able to comment on released pull requests
  id-token: write # to enable use of OIDC for npm provenance / AWS

jobs:
  ci:
    uses: uptick/actions/.github/workflows/ci.yaml@main
    secrets: inherit
    with:
      praise-on-fix: false
      python-version: 3.12
      mise: true
      mise-install: true
      command: |
        mise run ci
